nodes:
{{ include "./templates/domains.sty" "yaml" }}
{{ include "./templates/main-menu.sty" "yaml" }}
{{ include "./templates/view-types.sty" "yaml" }}
{{ include "./templates/views.sty" "yaml" }}

{{ include "./templates/component-types/dbsystem-milvus.sty" "yaml" }}
{{ include "./templates/component-types/dbsystem-opensearch.sty" "yaml" }}
{{ include "./templates/component-types/genai-app.sty" "yaml" }}
{{ include "./templates/component-types/genai-system-ollama.sty" "yaml" }}
{{ include "./templates/component-types/genai-system-openai.sty" "yaml" }}
{{ include "./templates/component-types/genai-system-vllm.sty" "yaml" }}
{{ include "./templates/component-types/genai-vllm-model.sty" "yaml" }}

{{ include "./templates/metric-bindings/metric-bindings-genai.sty" "yaml" }}
{{ include "./templates/metric-bindings/metric-bindings-milvus.sty" "yaml" }}
{{ include "./templates/metric-bindings/metric-bindings-nvidia-dcgm.sty" "yaml" }}
{{ include "./templates/metric-bindings/metric-bindings-ollama.sty" "yaml" }}
{{ include "./templates/metric-bindings/metric-bindings-opensearch.sty" "yaml" }}
{{ include "./templates/metric-bindings/metric-bindings-vectordatabases.sty" "yaml" }}
{{ include "./templates/metric-bindings/metric-bindings-vllm.sty" "yaml" }}

{{ include "./monitors/vectordb-system-metric-stream/monitor.sty" "yaml" }}
{{ include "./monitors/genai-system-metric-stream/monitor.sty" "yaml" }}
{{ include "./monitors/genai-model-metric-stream/monitor.sty" "yaml" }}
{{ include "./monitors/genai-model-op-metric-stream/monitor.sty" "yaml" }}
{{ include "./monitors/vectordb-op-metric-stream/monitor.sty" "yaml" }}
{{ include "./monitors/nvidia-xid-errors/monitor.sty" "yaml" }}
{{ include "./monitors/opensearch-cluster-status/monitor.sty" "yaml" }}

# Mappers
- _type: ComponentMappingFunction
  script: "{{ include "./scripts/genai-multiplexed-mapper.groovy" }}"
  id: -918
  identifier: urn:stackpack:openlit:shared:component-mapping-function:genai-multiplexed-mapper-v130
  name: GenAI Multiplexed Mapper v130
  parameters:
  - _type: Parameter
    id: -919
    multiple: false
    name: element
    required: true
    system: true
    type: STRUCT_TYPE

- _type: ComponentMappingFunction
  script: "{{ include "./scripts/service-mapper.groovy" }}"
  id: -910
  identifier: urn:stackpack:openlit:shared:component-mapping-function:service-mapper-v130
  name: OpenLIT Service Mapper v130
  parameters:
  - _type: Parameter
    id: -911
    multiple: false
    name: element
    required: true
    system: true
    type: STRUCT_TYPE

- _type: ComponentMappingFunction
  script: "{{ include "./scripts/system-mapper.groovy" }}"
  id: -912
  identifier: urn:stackpack:openlit:shared:component-mapping-function:system-mapper-v130
  name: OpenLIT System Mapper v130
  parameters:
  - _type: Parameter
    id: -913
    multiple: false
    name: element
    required: true
    system: true
    type: STRUCT_TYPE

- _type: ComponentMappingFunction
  script: "{{ include "./scripts/model-mapper.groovy" }}"
  id: -914
  identifier: urn:stackpack:openlit:shared:component-mapping-function:model-mapper-v130
  name: OpenLIT Model Mapper v130
  parameters:
  - _type: Parameter
    id: -915
    multiple: false
    name: element
    required: true
    system: true
    type: STRUCT_TYPE

- _type: RelationMappingFunction
  description: Maps relations.
  script: "{{ include "./scripts/relation-mapper.groovy" }}"
  id: -916
  identifier: urn:stackpack:openlit:shared:relation-mapping-function:relation-mapper-v130
  name: OpenLIT Relation Mapper v130
  parameters:
  - _type: Parameter
    id: -917
    multiple: false
    name: element
    required: true
    system: true
    type: STRUCT_TYPE

- _type: RelationMappingFunction
  script: "{{ include "./scripts/app-to-system-rel-mapper.groovy" }}"
  id: -940
  identifier: urn:stackpack:openlit:shared:relation-mapping-function:app-to-system-rel-mapper-v130
  name: OpenLIT App to System Relation Mapper v130
  parameters:
  - _type: Parameter
    id: -941
    multiple: false
    name: element
    required: true
    system: true
    type: STRUCT_TYPE

- _type: RelationMappingFunction
  script: "{{ include "./scripts/system-to-model-rel-mapper.groovy" }}"
  id: -942
  identifier: urn:stackpack:openlit:shared:relation-mapping-function:system-to-model-rel-mapper-v130
  name: OpenLIT System to Model Relation Mapper v130
  parameters:
  - _type: Parameter
    id: -943
    multiple: false
    name: element
    required: true
    system: true
    type: STRUCT_TYPE

- _type: RelationMappingFunction
  script: "{{ include "./scripts/provided-by-mapper.groovy" }}"
  id: -944
  identifier: urn:stackpack:openlit:shared:relation-mapping-function:provided-by-mapper-v130
  name: OpenLIT Provided-by Relation Mapper v130
  parameters:
  - _type: Parameter
    id: -945
    multiple: false
    name: element
    required: true
    system: true
    type: STRUCT_TYPE

# Extractors
- _type: IdExtractorFunction
  groovyScript: "{{ include "./scripts/genai-component-id-extractor.groovy" }}"
  id: -9001
  identifier: urn:stackpack:openlit:shared:id-extractor-function:genai-component-id-extractor
  name: GenAI component id extractor
  parameters:
  - _type: Parameter
    id: -9011
    multiple: false
    name: topologyElement
    required: true
    system: true
    type: STRUCT_TYPE

- _type: IdExtractorFunction
  groovyScript: "{{ include "./scripts/genai-void-id-extractor.groovy" }}"
  id: -9081
  identifier: urn:stackpack:openlit:shared:id-extractor-function:genai-void-id-extractor
  name: GenAI void id extractor
  parameters:
  - _type: Parameter
    id: -9091
    multiple: false
    name: topologyElement
    required: true
    system: true
    type: STRUCT_TYPE

- _type: IdExtractorFunction
  groovyScript: "{{ include "./scripts/genai-multiplexed-id-extractor.groovy" }}"
  id: -908
  identifier: urn:stackpack:openlit:shared:id-extractor-function:genai-multiplexed-id-extractor
  name: GenAI multiplexed id extractor
  parameters:
  - _type: Parameter
    id: -909
    multiple: false
    name: topologyElement
    required: true
    system: true
    type: STRUCT_TYPE

- _type: IdExtractorFunction
  groovyScript: "{{ include "./scripts/genai-service-id-extractor.groovy" }}"
  id: -900
  identifier: urn:stackpack:openlit:shared:id-extractor-function:genai-service-id-extractor
  name: GenAI service id extractor
  parameters:
  - _type: Parameter
    id: -901
    multiple: false
    name: topologyElement
    required: true
    system: true
    type: STRUCT_TYPE

- _type: IdExtractorFunction
  groovyScript: "{{ include "./scripts/genai-system-id-extractor.groovy" }}"
  id: -930
  identifier: urn:stackpack:openlit:shared:id-extractor-function:genai-system-id-extractor
  name: GenAI system id extractor
  parameters:
  - _type: Parameter
    id: -931
    multiple: false
    name: topologyElement
    required: true
    system: true
    type: STRUCT_TYPE

- _type: IdExtractorFunction
  groovyScript: "{{ include "./scripts/genai-model-id-extractor.groovy" }}"
  id: -932
  identifier: urn:stackpack:openlit:shared:id-extractor-function:genai-model-id-extractor
  name: GenAI model id extractor
  parameters:
  - _type: Parameter
    id: -933
    multiple: false
    name: topologyElement
    required: true
    system: true
    type: STRUCT_TYPE

- _type: IdExtractorFunction
  groovyScript: "{{ include "./scripts/genai-relation-id-extractor.groovy" }}"
  id: -902
  identifier: urn:stackpack:openlit:shared:id-extractor-function:genai-relation-id-extractor
  name: GenAI relation id extractor
  parameters:
  - _type: Parameter
    id: -903
    multiple: false
    name: topologyElement
    required: true
    system: true
    type: STRUCT_TYPE

# Templates
- _type: ComponentTemplateFunction
  handlebarsTemplate: "{{ include "./templates/openlit-component-template.json.handlebars" }}"
  id: -904
  identifier: urn:stackpack:openlit:shared:component-template-function:openlit-component
  name: GenAI component template function
  parameters:
  - _type: Parameter
    id: -905
    multiple: false
    name: element
    required: true
    system: true
    type: STRUCT_TYPE

- _type: RelationTemplateFunction
  handlebarsTemplate: "{{ include "./templates/openlit-relation-template.json.handlebars" }}"
  id: -906
  identifier: urn:stackpack:openlit:shared:relation-template-function:openlit-relation
  name: GenAI relation template function
  parameters:
  - _type: Parameter
    id: -907
    multiple: false
    name: element
    required: true
    system: true
    type: STRUCT_TYPE

version: '0.1'
