- _type: ComponentType
  name: "genai.system.vllm"
  iconbase64: "{{ include "./icons-svg/vllm.svg" "base64" }}"
  identifier: urn:stackpack:openlit:shared:component-type:genai-system-vllm

  highlights:
    namePlural: genai_systems
    fields:
      - fieldId: type
        label:
          title: Type
        valueExtractor:
          _type: ComponentTypeSource
        display:
          _type: TagDisplay
        _type: ComponentTypeField
      - fieldId: health
        label:
          title: Health
        valueExtractor:
          _type: HealthSource
        display:
          _type: HealthBadgeDisplay
        _type: ComponentTypeField
      - fieldId: labels
        label:
          title: Labels
        valueExtractor:
          _type: TagsSource
        display:
          singular: label
          _type: TagDisplay
        _type: ComponentTypeField
    about:
      fields:
        - type
        - health
        - labels
      _type: ComponentTypeAbout
    events:
      showEvents: false
      _type: ComponentTypeEvents
    showLogs: false
    showLastChange: false
    externalComponent:
      showConfiguration: false
      showStatus: false
      externalIdSelector: "^openlit:urn:open-telemetry:"
      _type: ComponentTypeExternalComponent
    relatedResources:
      - resourceType: genai.model
        title: Models
        stql:
          (withNeighborsOf(direction = "down", components = (id = "{COMPONENT_ID}"),
          levels = "1")) and type = "genai.model"
        #          viewTypeIdentifier: urn:stackpack:open-telemetry:shared:view-type:service-instance
        _type: ComponentTypeRelatedResources
      - resourceType: otel service
        title: Related Open Telemetry services
        stql:
          (withNeighborsOf(direction = "up", components = (id = "{COMPONENT_ID}"),
          levels = "1")) and type = "otel service"
        viewTypeIdentifier: urn:stackpack:open-telemetry:shared:view-type:service
        _type: ComponentTypeRelatedResources

    metrics:
      - name: Token Throughput
        description: Token Throughput
        bindings:
          - urn:stackpack:openlit:shared:metric-binding:vllm-token-throughput-prompt
          - urn:stackpack:openlit:shared:metric-binding:vllm-token-throughput-generation
        defaultExpanded: true
        _type: ComponentTypeMetricCategory
      - name: Scheduler
        description: Requests running or waiting.
        bindings:
          - urn:stackpack:openlit:shared:metric-binding:vllm-req-running
          - urn:stackpack:openlit:shared:metric-binding:vllm-req-waiting
        defaultExpanded: true
        _type: ComponentTypeMetricCategory
      - name: End-to-End Latency
        description: Latency
        bindings:
          - urn:stackpack:openlit:shared:metric-binding:vllm-e2e-latency-p99
          - urn:stackpack:openlit:shared:metric-binding:vllm-e2e-latency-p95
          - urn:stackpack:openlit:shared:metric-binding:vllm-e2e-latency-p90
          - urn:stackpack:openlit:shared:metric-binding:vllm-e2e-latency-p50
          - urn:stackpack:openlit:shared:metric-binding:vllm-e2e-latency-avg
        defaultExpanded: true
        _type: ComponentTypeMetricCategory
      - name: Time To First Token Latency
        description: Latency
        bindings:
          - urn:stackpack:openlit:shared:metric-binding:vllm-ttft-latency-p99
          - urn:stackpack:openlit:shared:metric-binding:vllm-ttft-latency-p95
          - urn:stackpack:openlit:shared:metric-binding:vllm-ttft-latency-p90
          - urn:stackpack:openlit:shared:metric-binding:vllm-ttft-latency-p50
          - urn:stackpack:openlit:shared:metric-binding:vllm-ttft-latency-avg
        defaultExpanded: true
        _type: ComponentTypeMetricCategory
      - name: Time Per Output Token Latency
        description: Latency
        bindings:
          - urn:stackpack:openlit:shared:metric-binding:vllm-tpot-latency-p99
          - urn:stackpack:openlit:shared:metric-binding:vllm-tpot-latency-p95
          - urn:stackpack:openlit:shared:metric-binding:vllm-tpot-latency-p90
          - urn:stackpack:openlit:shared:metric-binding:vllm-tpot-latency-p50
          - urn:stackpack:openlit:shared:metric-binding:vllm-tpot-latency-avg
        defaultExpanded: true
        _type: ComponentTypeMetricCategory
      - name: Cache Utilization
        description: Percentage of used cache blocks by genai-observability.
        bindings:
          - urn:stackpack:openlit:shared:metric-binding:vllm-gpu-cache-usage
        defaultExpanded: true
        _type: ComponentTypeMetricCategory
    _type: ComponentTypeHighlights
