- _type: Monitor
  name: LLM VectorDB System Metric Stream Active
  tags:
    - genai
    - vectordb
  function: {{ get "urn:stackpack:common:monitor-function:threshold" }}
  identifier: urn:stackpack:genai-observability:shared:monitor:vectordb-system-metric-stream
  description: "{{ include "./monitors/vectordb-system-metric-stream/description" }}"
  status: ENABLED
  arguments:
    comparator: LTE
    failureState: DEVIATING
    metric:
      aliasTemplate: Requests ${db_system}
      query: sum(sum_over_time(db_requests_total{}[5m])) by (db_system)
      unit: short
    threshold: 1.0
    urnTemplate: urn:openlit:vectordb:system/${db_system}
  intervalSeconds: 60
  remediationHint: "{{ include "./monitors/vectordb-system-metric-stream/remediation-hint.md.hbs" "identity" }}"
